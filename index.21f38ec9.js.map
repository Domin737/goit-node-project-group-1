{"mappings":"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","sources":["<anon>","src/index.js","src/pages/HomePage.js","src/components/LogoutButton.js","src/utils/logoutUtils.js","src/pages/LoginPage.js","src/components/Login.js","src/config.js","src/components/RegisterForm.js"],"sourcesContent":["// /src/index.js\n// /src/pages/HomePage.js\n// /src/components/LogoutButton.js\nfunction $3c2a6f005c424ba8$export$2e2bcd8739ae039() {\n    return `\n    <button id=\"logout-btn\">Wyloguj</button>\n  `;\n}\nfunction $3c2a6f005c424ba8$export$a9a09da5e2f15353(onLogoutClick) {\n    const logoutBtn = document.getElementById(\"logout-btn\");\n    if (logoutBtn) logoutBtn.addEventListener(\"click\", onLogoutClick);\n}\n\n\n// /src/utils/logoutUtils.js\nasync function $989791cafdc493c9$export$297d1113e3afbc21() {\n    try {\n        const token = localStorage.getItem(\"userToken\");\n        if (!token) throw new Error(\"Brak tokenu uwierzytelniaj\\u0105cego\");\n        const response = await fetch(\"/api/users/logout\", {\n            method: \"POST\",\n            headers: {\n                Authorization: `Bearer ${token}`,\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!response.ok) throw new Error(\"B\\u0142\\u0105d podczas wylogowywania\");\n        // Usunięcie tokena JWT z localStorage\n        localStorage.removeItem(\"userToken\");\n        // Można dodać więcej informacji do wyczyszczenia, np. imię użytkownika, email itp.\n        localStorage.removeItem(\"userName\");\n        localStorage.removeItem(\"userEmail\");\n        // Przekierowanie na stronę logowania\n        window.location.href = \"/login\";\n    } catch (error) {\n        console.error(\"B\\u0142\\u0105d podczas wylogowywania:\", error);\n        alert(`Wyst\\u{105}pi\\u{142} b\\u{142}\\u{105}d podczas wylogowywania: ${error.message}`);\n    }\n}\n\n\nfunction $00b513cc47574162$export$2e2bcd8739ae039() {\n    return `\n    <div>\n      <h1>Witaj w aplikacji Kapu$ta!</h1>\n      <p>To jest strona g\\u{142}\\xf3wna aplikacji.</p>\n      ${(0, $3c2a6f005c424ba8$export$2e2bcd8739ae039)()}\n    </div>\n    <div id=\"logout-modal\" class=\"modal\" style=\"display: none;\">\n      <div class=\"modal-content\">\n        <p>Czy na pewno chcesz opu\\u{15B}ci\\u{107} aplikacj\\u{119}?</p>\n        <button id=\"confirm-logout\">Tak</button>\n        <button id=\"cancel-logout\">Nie</button>\n      </div>\n    </div>\n  `;\n}\nfunction $00b513cc47574162$export$ad66e97ee146d3ae() {\n    (0, $3c2a6f005c424ba8$export$a9a09da5e2f15353)(()=>{\n        const modal = document.getElementById(\"logout-modal\");\n        modal.style.display = \"block\";\n    });\n    const confirmLogoutBtn = document.getElementById(\"confirm-logout\");\n    const cancelLogoutBtn = document.getElementById(\"cancel-logout\");\n    const modal = document.getElementById(\"logout-modal\");\n    confirmLogoutBtn.addEventListener(\"click\", ()=>{\n        (0, $989791cafdc493c9$export$297d1113e3afbc21)();\n        modal.style.display = \"none\";\n    });\n    cancelLogoutBtn.addEventListener(\"click\", ()=>{\n        modal.style.display = \"none\";\n    });\n}\n\n\n// /src/pages/LoginPage.js\n// /src/components/Login.js\n// /src/config.js\n// Zmienna przechowująca adres URL API\nconst $bebe1cbb5a309c8c$export$923ea8233b386e99 = \"http://localhost:3000/api\";\n\n\n\nasync function $96b47ed419553bef$export$da4fc2bf424da4ca(event) {\n    event.preventDefault();\n    const email = document.getElementById(\"email\").value;\n    const password = document.getElementById(\"password\").value;\n    try {\n        // Wysłanie zapytania POST do API\n        const response = await fetch(`${(0, $bebe1cbb5a309c8c$export$923ea8233b386e99)}/users/login`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                email: email,\n                password: password\n            })\n        });\n        const data = await response.json();\n        if (response.ok) {\n            // Zalogowano pomyślnie, zapisujemy token\n            console.log(\"Zalogowano pomy\\u015Blnie:\", data);\n            localStorage.setItem(\"userToken\", data.token);\n            // Wywołanie renderApp do przerysowania aplikacji\n            (0, $35da740d59af89ba$export$bd45a425ac802846)();\n        } else {\n            // Obsługa błędów logowania\n            console.error(\"B\\u0142\\u0105d logowania:\", data.message || \"Nieznany b\\u0142\\u0105d\");\n            alert(`B\\u{142}\\u{105}d logowania: ${data.message}`);\n        }\n    } catch (error) {\n        console.error(\"Wyst\\u0105pi\\u0142 problem z logowaniem:\", error);\n        alert(\"Wyst\\u0105pi\\u0142 problem z logowaniem. Spr\\xf3buj ponownie p\\xf3\\u017Aniej.\");\n    }\n}\nfunction $96b47ed419553bef$export$2e2bcd8739ae039() {\n    return `\n    <form id=\"login-form\">\n      <label for=\"email\">Email:</label>\n      <input type=\"email\" id=\"email\" required />\n      \n      <label for=\"password\">Has\\u{142}o:</label>\n      <input type=\"password\" id=\"password\" required />\n      \n      <button type=\"submit\">Zaloguj</button>\n    </form>\n  `;\n}\n\n\n// src/components/RegisterForm.js\nfunction $cac777f1d6df4413$export$2e2bcd8739ae039() {\n    return `\n    <form id=\"register-form\">\n      <h2>Rejestracja</h2>\n      <div>\n        <label for=\"register-name\">Imi\\u{119}:</label>\n        <input type=\"text\" id=\"register-name\" name=\"name\" required>\n      </div>\n      <div>\n        <label for=\"register-email\">Email:</label>\n        <input type=\"email\" id=\"register-email\" name=\"email\" required>\n      </div>\n      <div>\n        <label for=\"register-password\">Has\\u{142}o:</label>\n        <input type=\"password\" id=\"register-password\" name=\"password\" required>\n      </div>\n      <button type=\"submit\">Zarejestruj si\\u{119}</button>\n    </form>\n  `;\n}\nfunction $cac777f1d6df4413$export$c10c104de484e4d6(onRegisterSuccess) {\n    const form = document.getElementById(\"register-form\");\n    form.addEventListener(\"submit\", async (e)=>{\n        e.preventDefault();\n        const formData = new FormData(form);\n        const userData = Object.fromEntries(formData.entries());\n        try {\n            const response = await fetch(\"/api/users/register\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(userData)\n            });\n            if (response.ok) {\n                alert(\"Rejestracja udana! Mo\\u017Cesz si\\u0119 teraz zalogowa\\u0107.\");\n                onRegisterSuccess();\n            } else {\n                const errorData = await response.json();\n                alert(`B\\u{142}\\u{105}d rejestracji: ${errorData.message}`);\n            }\n        } catch (error) {\n            console.error(\"B\\u0142\\u0105d podczas rejestracji:\", error);\n            alert(\"Wyst\\u0105pi\\u0142 b\\u0142\\u0105d podczas rejestracji. Spr\\xf3buj ponownie p\\xf3\\u017Aniej.\");\n        }\n    });\n}\n\n\nfunction $0a0889c88b6ced0b$export$2e2bcd8739ae039() {\n    return `\n    <div id=\"auth-container\">\n      <div id=\"login-section\">\n        <h2>Logowanie</h2>\n        ${(0, $96b47ed419553bef$export$2e2bcd8739ae039)()}\n        <button id=\"switch-to-register\">Zarejestruj si\\u{119}</button>\n      </div>\n      <div id=\"register-section\" style=\"display: none;\">\n        ${(0, $cac777f1d6df4413$export$2e2bcd8739ae039)()}\n        <button id=\"switch-to-login\">Powr\\xf3t do logowania</button>\n      </div>\n    </div>\n  `;\n}\nfunction $0a0889c88b6ced0b$export$58c786fbf111154e() {\n    const loginForm = document.getElementById(\"login-form\");\n    const switchToRegisterBtn = document.getElementById(\"switch-to-register\");\n    const switchToLoginBtn = document.getElementById(\"switch-to-login\");\n    const loginSection = document.getElementById(\"login-section\");\n    const registerSection = document.getElementById(\"register-section\");\n    loginForm.addEventListener(\"submit\", (0, $96b47ed419553bef$export$da4fc2bf424da4ca));\n    switchToRegisterBtn.addEventListener(\"click\", ()=>{\n        loginSection.style.display = \"none\";\n        registerSection.style.display = \"block\";\n    });\n    switchToLoginBtn.addEventListener(\"click\", ()=>{\n        registerSection.style.display = \"none\";\n        loginSection.style.display = \"block\";\n    });\n    (0, $cac777f1d6df4413$export$c10c104de484e4d6)(()=>{\n        // Po udanej rejestracji przełącz z powrotem na formularz logowania\n        registerSection.style.display = \"none\";\n        loginSection.style.display = \"block\";\n    });\n}\n\n\nfunction $35da740d59af89ba$export$bd45a425ac802846() {\n    const token = localStorage.getItem(\"userToken\");\n    const appContainer = document.getElementById(\"app\");\n    if (token) {\n        appContainer.innerHTML = (0, $00b513cc47574162$export$2e2bcd8739ae039)();\n        (0, $00b513cc47574162$export$ad66e97ee146d3ae)();\n    } else {\n        appContainer.innerHTML = (0, $0a0889c88b6ced0b$export$2e2bcd8739ae039)();\n        (0, $0a0889c88b6ced0b$export$58c786fbf111154e)();\n    }\n}\ndocument.addEventListener(\"DOMContentLoaded\", $35da740d59af89ba$export$bd45a425ac802846);\n// Nasłuchiwanie na zmiany w localStorage (np. po zalogowaniu lub wylogowaniu)\nwindow.addEventListener(\"storage\", (event)=>{\n    if (event.key === \"userToken\") $35da740d59af89ba$export$bd45a425ac802846();\n});\n\n\n//# sourceMappingURL=index.21f38ec9.js.map\n","// /src/index.js\n\nimport HomePage, { setupHomePage } from './pages/HomePage';\nimport LoginPage, { setupAuthForms } from './pages/LoginPage';\n\nfunction renderApp() {\n  const token = localStorage.getItem('userToken');\n  const appContainer = document.getElementById('app');\n\n  if (token) {\n    appContainer.innerHTML = HomePage();\n    setupHomePage();\n  } else {\n    appContainer.innerHTML = LoginPage();\n    setupAuthForms();\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', renderApp);\n\n// Nasłuchiwanie na zmiany w localStorage (np. po zalogowaniu lub wylogowaniu)\nwindow.addEventListener('storage', event => {\n  if (event.key === 'userToken') {\n    renderApp();\n  }\n});\n\n// Eksportujemy funkcję renderApp, aby można było jej użyć w innych miejscach aplikacji\nexport { renderApp };\n","// /src/pages/HomePage.js\n\nimport LogoutButton, { setupLogoutButton } from '../components/LogoutButton';\nimport { handleLogout } from '../utils/logoutUtils';\n\nexport default function HomePage() {\n  return `\n    <div>\n      <h1>Witaj w aplikacji Kapu$ta!</h1>\n      <p>To jest strona główna aplikacji.</p>\n      ${LogoutButton()}\n    </div>\n    <div id=\"logout-modal\" class=\"modal\" style=\"display: none;\">\n      <div class=\"modal-content\">\n        <p>Czy na pewno chcesz opuścić aplikację?</p>\n        <button id=\"confirm-logout\">Tak</button>\n        <button id=\"cancel-logout\">Nie</button>\n      </div>\n    </div>\n  `;\n}\n\nexport function setupHomePage() {\n  setupLogoutButton(() => {\n    const modal = document.getElementById('logout-modal');\n    modal.style.display = 'block';\n  });\n\n  const confirmLogoutBtn = document.getElementById('confirm-logout');\n  const cancelLogoutBtn = document.getElementById('cancel-logout');\n  const modal = document.getElementById('logout-modal');\n\n  confirmLogoutBtn.addEventListener('click', () => {\n    handleLogout();\n    modal.style.display = 'none';\n  });\n\n  cancelLogoutBtn.addEventListener('click', () => {\n    modal.style.display = 'none';\n  });\n}\n","// /src/components/LogoutButton.js\n\nexport default function LogoutButton() {\n  return `\n    <button id=\"logout-btn\">Wyloguj</button>\n  `;\n}\n\nexport function setupLogoutButton(onLogoutClick) {\n  const logoutBtn = document.getElementById('logout-btn');\n  if (logoutBtn) {\n    logoutBtn.addEventListener('click', onLogoutClick);\n  }\n}\n","// /src/utils/logoutUtils.js\n\nexport async function handleLogout() {\n  try {\n    const token = localStorage.getItem('userToken');\n    if (!token) {\n      throw new Error('Brak tokenu uwierzytelniającego');\n    }\n\n    const response = await fetch('/api/users/logout', {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error('Błąd podczas wylogowywania');\n    }\n\n    // Usunięcie tokena JWT z localStorage\n    localStorage.removeItem('userToken');\n\n    // Można dodać więcej informacji do wyczyszczenia, np. imię użytkownika, email itp.\n    localStorage.removeItem('userName');\n    localStorage.removeItem('userEmail');\n\n    // Przekierowanie na stronę logowania\n    window.location.href = '/login';\n  } catch (error) {\n    console.error('Błąd podczas wylogowywania:', error);\n    alert(`Wystąpił błąd podczas wylogowywania: ${error.message}`);\n  }\n}\n","// /src/pages/LoginPage.js\n\nimport Login, { handleLogin } from '../components/Login';\nimport RegisterForm, { setupRegisterForm } from '../components/RegisterForm';\n\n// Funkcja renderująca stronę logowania\nexport default function LoginPage() {\n  return `\n    <div id=\"auth-container\">\n      <div id=\"login-section\">\n        <h2>Logowanie</h2>\n        ${Login()}\n        <button id=\"switch-to-register\">Zarejestruj się</button>\n      </div>\n      <div id=\"register-section\" style=\"display: none;\">\n        ${RegisterForm()}\n        <button id=\"switch-to-login\">Powrót do logowania</button>\n      </div>\n    </div>\n  `;\n}\n\n// Funkcja do przypisania obsługi logowania i rejestracji po załadowaniu DOM\nexport function setupAuthForms() {\n  const loginForm = document.getElementById('login-form');\n  const switchToRegisterBtn = document.getElementById('switch-to-register');\n  const switchToLoginBtn = document.getElementById('switch-to-login');\n  const loginSection = document.getElementById('login-section');\n  const registerSection = document.getElementById('register-section');\n\n  loginForm.addEventListener('submit', handleLogin);\n\n  switchToRegisterBtn.addEventListener('click', () => {\n    loginSection.style.display = 'none';\n    registerSection.style.display = 'block';\n  });\n\n  switchToLoginBtn.addEventListener('click', () => {\n    registerSection.style.display = 'none';\n    loginSection.style.display = 'block';\n  });\n\n  setupRegisterForm(() => {\n    // Po udanej rejestracji przełącz z powrotem na formularz logowania\n    registerSection.style.display = 'none';\n    loginSection.style.display = 'block';\n  });\n}\n","// /src/components/Login.js\n\nimport { API_URL } from '../config';\nimport { renderApp } from '../index';\n\n// Funkcja do obsługi logowania\nexport async function handleLogin(event) {\n  event.preventDefault();\n\n  const email = document.getElementById('email').value;\n  const password = document.getElementById('password').value;\n\n  try {\n    // Wysłanie zapytania POST do API\n    const response = await fetch(`${API_URL}/users/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    });\n\n    const data = await response.json();\n\n    if (response.ok) {\n      // Zalogowano pomyślnie, zapisujemy token\n      console.log('Zalogowano pomyślnie:', data);\n      localStorage.setItem('userToken', data.token);\n\n      // Wywołanie renderApp do przerysowania aplikacji\n      renderApp();\n    } else {\n      // Obsługa błędów logowania\n      console.error('Błąd logowania:', data.message || 'Nieznany błąd');\n      alert(`Błąd logowania: ${data.message}`);\n    }\n  } catch (error) {\n    console.error('Wystąpił problem z logowaniem:', error);\n    alert('Wystąpił problem z logowaniem. Spróbuj ponownie później.');\n  }\n}\n\n// Funkcja renderująca formularz logowania\nexport default function Login() {\n  return `\n    <form id=\"login-form\">\n      <label for=\"email\">Email:</label>\n      <input type=\"email\" id=\"email\" required />\n      \n      <label for=\"password\">Hasło:</label>\n      <input type=\"password\" id=\"password\" required />\n      \n      <button type=\"submit\">Zaloguj</button>\n    </form>\n  `;\n}\n","// /src/config.js\n\n// Zmienna przechowująca adres URL API\nexport const API_URL = 'http://localhost:3000/api';\n","// src/components/RegisterForm.js\n\nexport default function RegisterForm() {\n  return `\n    <form id=\"register-form\">\n      <h2>Rejestracja</h2>\n      <div>\n        <label for=\"register-name\">Imię:</label>\n        <input type=\"text\" id=\"register-name\" name=\"name\" required>\n      </div>\n      <div>\n        <label for=\"register-email\">Email:</label>\n        <input type=\"email\" id=\"register-email\" name=\"email\" required>\n      </div>\n      <div>\n        <label for=\"register-password\">Hasło:</label>\n        <input type=\"password\" id=\"register-password\" name=\"password\" required>\n      </div>\n      <button type=\"submit\">Zarejestruj się</button>\n    </form>\n  `;\n}\n\nexport function setupRegisterForm(onRegisterSuccess) {\n  const form = document.getElementById('register-form');\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n    const formData = new FormData(form);\n    const userData = Object.fromEntries(formData.entries());\n\n    try {\n      const response = await fetch('/api/users/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(userData),\n      });\n\n      if (response.ok) {\n        alert('Rejestracja udana! Możesz się teraz zalogować.');\n        onRegisterSuccess();\n      } else {\n        const errorData = await response.json();\n        alert(`Błąd rejestracji: ${errorData.message}`);\n      }\n    } catch (error) {\n      console.error('Błąd podczas rejestracji:', error);\n      alert('Wystąpił błąd podczas rejestracji. Spróbuj ponownie później.');\n    }\n  });\n}\n"],"names":["$989791cafdc493c9$export$297d1113e3afbc21","token","localStorage","getItem","Error","response","fetch","method","headers","Authorization","ok","removeItem","window","location","href","error","console","alert","message","$96b47ed419553bef$export$da4fc2bf424da4ca","event","preventDefault","email","document","getElementById","value","password","body","JSON","stringify","data","json","log","setItem","$35da740d59af89ba$export$bd45a425ac802846","appContainer","innerHTML","onLogoutClick","logoutBtn","addEventListener","modal","style","display","confirmLogoutBtn","cancelLogoutBtn","loginForm","switchToRegisterBtn","switchToLoginBtn","loginSection","registerSection","onRegisterSuccess","form","e","userData","Object","fromEntries","formData","FormData","entries","errorData","key"],"version":3,"file":"index.21f38ec9.js.map"}